(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{642:function(n,s,t){"use strict";t.r(s);var e=t(4),a=Object(e.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"防抖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#防抖"}},[n._v("#")]),n._v(" 防抖")]),n._v(" "),t("p",[n._v("在事件被触发n秒后再执行回调函数，如果在这n秒内又被触发，则重新计时。\n应用场景：")]),n._v(" "),t("ul",[t("li",[n._v("用户在输入框中连续输入一串字符后，只会在输入完后，去执行最后一次的查询ajax请求，这样可以有效减少请求次数，节约请求资源；")]),n._v(" "),t("li",[n._v("window的resize、scroll事件，不断地调整浏览器的窗口大小、或者滚动时会触发对应事件，防抖让其只触发一次；")])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("const input1 = document.getElementById('input1')\nfunction debounce(fn, delay = 500) {\n    // 设置定时器\n    // timer闭包，隐藏数据，外界不能改变\n    let timer = null\n\n    return function (){\n        if(timer) {\n            clearTimeout(timer)\n        }\n        timer = setTimeout(() => {\n            fn.apply(this, arguments)\n            timer = null\n        }, delay);\n    }\n}\n\ninput1.addEventListener('keyup', debounce(function () {\n    console.log(input1.value)\n},600))\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br")])]),t("h1",{attrs:{id:"节流"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#节流"}},[n._v("#")]),n._v(" 节流")]),n._v(" "),t("p",[n._v("规定一个单位时间，在这个单位时间内，只能有一次触发事件的回调函数执行，如果在同一个单位时间内某事件被触发多次，只有一次能生效。\n应用场景：")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("鼠标连续不断地触发某事件（如点击），只在单位时间内只触发一次；")])]),n._v(" "),t("li",[t("p",[n._v("在页面的无限加载场景下，需要用户在滚动页面时，每隔一段时间发一次 ajax 请求，而不是在用户停下滚动页面操作时才去请求数据；")])]),n._v(" "),t("li",[t("p",[n._v("监听滚动事件，比如是否滑到底部自动加载更多，用throttle来判断；")])])]),n._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("// 节流\nconst div1 = document.getElementById('div1')\n\nfunction throttle(fn, delay = 100) {\n    let timer = null\n    \n    return function() {\n        if(timer) {\n            return\n        }\n    \n        timer = setTimeout(() => {\n            fn.apply(this, arguments)\n    \n            timer = null\n        }, delay);\n    }\n}\n\ndiv1.addEventListener('drag', throttle(function (e) {\n    console.log(e.offsetX, e.offsetY)\n},200))\n")])]),n._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[n._v("1")]),t("br"),t("span",{staticClass:"line-number"},[n._v("2")]),t("br"),t("span",{staticClass:"line-number"},[n._v("3")]),t("br"),t("span",{staticClass:"line-number"},[n._v("4")]),t("br"),t("span",{staticClass:"line-number"},[n._v("5")]),t("br"),t("span",{staticClass:"line-number"},[n._v("6")]),t("br"),t("span",{staticClass:"line-number"},[n._v("7")]),t("br"),t("span",{staticClass:"line-number"},[n._v("8")]),t("br"),t("span",{staticClass:"line-number"},[n._v("9")]),t("br"),t("span",{staticClass:"line-number"},[n._v("10")]),t("br"),t("span",{staticClass:"line-number"},[n._v("11")]),t("br"),t("span",{staticClass:"line-number"},[n._v("12")]),t("br"),t("span",{staticClass:"line-number"},[n._v("13")]),t("br"),t("span",{staticClass:"line-number"},[n._v("14")]),t("br"),t("span",{staticClass:"line-number"},[n._v("15")]),t("br"),t("span",{staticClass:"line-number"},[n._v("16")]),t("br"),t("span",{staticClass:"line-number"},[n._v("17")]),t("br"),t("span",{staticClass:"line-number"},[n._v("18")]),t("br"),t("span",{staticClass:"line-number"},[n._v("19")]),t("br"),t("span",{staticClass:"line-number"},[n._v("20")]),t("br"),t("span",{staticClass:"line-number"},[n._v("21")]),t("br"),t("span",{staticClass:"line-number"},[n._v("22")]),t("br")])])])}),[],!1,null,null,null);s.default=a.exports}}]);