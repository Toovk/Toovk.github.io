(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{643:function(s,n,a){"use strict";a.r(n);var t=a(4),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"bind、call、apply的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bind、call、apply的区别"}},[s._v("#")]),s._v(" bind、call、apply的区别")]),s._v(" "),a("p",[s._v("三者都是js中用来改变函数体内this的指向，call和bind的用法相同，第二个参数都是数组中的元素，而apply不是，apply第二个参数是一个参数数组")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("fun.bind(thisArg, arg1, arg2, ...)\nfun.call(thisArg, arg1, arg2, ...)\nfun.apply(thisArg, [argsArray])\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("使用中"),a("code",[s._v("bind")]),s._v("不会立即调用，而是返回一个新函数，称为绑定函数，传入bind的第一个参数为this指向，而传入bind的第二个及以后的参数作为原函数的参数来调用原函数。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("fn.call(obj, 1, 2); // 改变fn中的this，并且把fn立即执行\nfn.bind(obj, 1, 2); // 改变fn中的this，fn并不执行\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("bind通常用于回调函数，比如onclick事件触发 "),a("code",[s._v("document.onclick = fn.bind(obj);")])]),s._v(" "),a("h3",{attrs:{id:"手写bind"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手写bind"}},[s._v("#")]),s._v(" 手写bind")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.bindnew = function () {\n    // 1.获取参数 变为数组\n    const args = Array.prototype.slice.call(arguments)\n    // const args = [...new Set(arguments)]\n\n    // 2.获取this指向的参数，即第一项\n    const t = args.shift()\n\n    // 3.找到原先this值\n    const self = this\n\n    // 4.bind返回的是一个函数，使用apply\n    return function() {\n        return self.apply(t,args)\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"手写call"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手写call"}},[s._v("#")]),s._v(" 手写call")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.callnew = function () {\n    const args = Array.prototype.slice.call(arguments)\n    // console.log(args)\n    // const args = [...new Set(arguments)]\n\n    const t = args.shift()\n\n    const self = this\n\n    return function() {\n        return self.apply(t,args)\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h3",{attrs:{id:"手写apply"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手写apply"}},[s._v("#")]),s._v(" 手写apply")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Function.prototype.applynew = function() {\n    const args = Array.prototype.slice.call(arguments)\n\n    const t = args.shift()\n\n    const self = this\n\n    console.log('args',...args[0]) // ...args[0]输出每一项\n\n    // const a = [...args]\n    // console.log('a',...a[0])\n\n    return function() {\n        return self.call(t,...args[0])\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h3",{attrs:{id:"调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[s._v("#")]),s._v(" 调试")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("function fn1 (a, b, c) {\n    console.log('this',this)\n    console.log(a, b, c)\n    return 'this is fn1'\n}\nconst fn2 = fn1.bindnew({ x:100 }, 10, 20, 30)\nconst fn2 = fn1.callnew({ x:100 }, 10, 20, 30)\nconst fn2 = fn1.applynew({ x:100 }, [ 10, 20, 30 ])\nconst res = fn2()\nconsole.log(res)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);